<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hii Manuu ğŸ¤</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ffffff; --accent: #ff4d6d; --bg: #1a0a0d; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { height: 100vh; width: 100vw; overflow: hidden; font-family: 'Poppins', sans-serif; background: #1a0a0d; color: var(--primary); }

        .bg-layer { position: fixed; inset: 0; background: linear-gradient(135deg, #1a0a0d, #4a001e, #8a0038); background-size: 400% 400%; animation: grad 15s ease infinite; z-index: -2; }
        @keyframes grad { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
        .floating-hearts-bg { position: fixed; inset: 0; pointer-events: none; z-index: -1; }

        /* HEART PROGRESS */
        .heart-container { position: fixed; top: 20px; right: 20px; width: 35px; height: 32px; z-index: 2000; transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        .h-shape { width: 100%; height: 100%; background: rgba(255,255,255,0.2); clip-path: path('M17.5 5C14 -2 0 -2 0 9C0 16 17.5 28 17.5 28C17.5 28 35 16 35 9C35 -2 21 -2 17.5 5Z'); }
        .h-fill { position: absolute; bottom: 0; width: 100%; height: 0%; background: white; transition: height 0.5s; }

        /* SLIDES */
        .slide { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; text-align: center; opacity: 0; visibility: hidden; transition: 0.6s ease; }
        .slide.active { opacity: 1; visibility: visible; }

        /* 3D FLIP POPUP */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(12px); display: none; align-items: center; justify-content: center; z-index: 6000; padding: 25px; perspective: 1200px; }
        .popup { background: white; color: #333; padding: 30px; border-radius: 25px; width: 100%; max-width: 350px; font-family: 'Playfair Display'; transform-style: preserve-3d; animation: flip3D 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes flip3D { 0% { transform: rotateY(-180deg) scale(0.5); opacity: 0; } 100% { transform: rotateY(0deg) scale(1); opacity: 1; } }

        /* SOAP BUBBLES */
        .bubble-container { position: relative; width: 100%; height: 350px; margin-top: 10px; overflow: visible; }
        .bubble-item { 
            position: absolute; 
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.1) 40%, rgba(255, 182, 193, 0.3) 60%);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: inset -3px -3px 10px rgba(255,255,255,0.3);
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            color: white; font-size: 0.8rem; width: 85px; height: 85px; cursor: pointer; backdrop-filter: blur(2px);
        }
        @keyframes floatB { 0%, 100% { transform: translate(0,0); } 33% { transform: translate(10px, -20px); } 66% { transform: translate(-10px, -10px); } }
        .bubble-pop { animation: popOut 0.3s forwards; }
        @keyframes popOut { to { transform: scale(1.5); opacity: 0; } }
        .pop-emoji { position: fixed; pointer-events: none; animation: emojiFly 1s forwards; z-index: 7000; font-size: 2rem; }
        @keyframes emojiFly { 0% { opacity:1; transform:translate(-50%,-50%) scale(1); } 100% { opacity:0; transform:translate(-50%,-150px) scale(2); } }

        /* BUTTONS & OTHERS */
        .card-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 330px; }
        .card { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); padding: 15px; border-radius: 18px; height: 130px; display: flex; flex-direction: column; align-items: center; justify-content: center; backdrop-filter: blur(8px); cursor: pointer; transition: 0.3s; }
        .btn { padding: 14px 30px; border-radius: 50px; border: none; font-weight: 600; background: white; color: #8a0038; cursor:pointer; }
        .nav-btn { background: rgba(255,255,255,0.1); color: white; border: 1px solid white; padding: 10px 25px; border-radius: 30px; cursor:pointer;}
        #final-screen { position: fixed; inset: 0; display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 8000; background: radial-gradient(circle, #ff4d6d, #8a0038, #1a0a0d); opacity: 0; transition: opacity 1.5s ease; }
        .heart-mid { top: 50% !important; right: 50% !important; transform: translate(50%, -50%) scale(4) !important; }
        .heart-explode { transform: translate(50%, -50%) scale(60) !important; opacity: 0; transition: transform 1.2s ease-in, opacity 0.8s ease-in !important; }
    </style>
</head>
<body>

<div class="bg-layer"></div>
<div class="floating-hearts-bg" id="bgHearts"></div>
<div class="heart-container" id="heartUI"><div class="h-shape"><div class="h-fill" id="fill"></div></div></div>
<audio id="mySong" preload="auto" loop><source src="tum-se.mp3" type="audio/mpeg"></audio>

<div class="slide active">
    <h1 style="font-family:'Playfair Display'; font-size: 3rem; font-style: italic;">Hii Manuu...</h1>
    <div id="timer" style="font-family:'Playfair Display'; font-size: 1.2rem; margin-top: 15px; color: #ffccd5;"></div>
    <button class="btn" style="margin-top: 30px;" onclick="startJourney()">Open My Heart</button>
</div>

<div class="slide">
    <h2 style="font-family:'Playfair Display'; margin-bottom: 20px;">Chapters of Us ğŸ“…</h2>
    <div class="card-grid">
        <div class="card" onclick="pop('The First WalkğŸš¶â€â™‚ï¸','21st April: our first walk.who knew that those walk will be the sweetest part of our memoryğŸ‘½ğŸ¥°ğŸ‘£')">ğŸ‘£<br>The First Walk</div>
        <div class="card" onclick="pop('Hand holdingğŸ¤','5th May: Holding hands forr thee firstt time.the way we both blushed wass too embarissingğŸ¤¡ğŸ˜™ğŸ¤')">ğŸ¤<br>The First Touch</div>
        <div class="card" onclick="pop('vid callğŸ˜¶â€ğŸŒ«ï¸','30th May: That video calls!ğŸ‘½dayummm thatt was somethingg special andd crazyyyğŸ˜ˆğŸ˜˜')">ğŸ‘½<br>Pure Chaos</div>
        <div class="card" onclick="pop('The Silly TryğŸ','9th June: My wierd gift for ur sisterğŸ˜­ğŸ˜­.still feels like I was a differnt kinda foolğŸ™„ğŸ™„ğŸ¤')">ğŸ<br>The Silly Try</div>
    </div>
</div>

<div class="slide">
    <div style="background: white; color: #8a0038; padding: 35px; border-radius: 20px; cursor: pointer; max-width: 300px;" onclick="openLetter()">
        <span style="font-size: 3rem;">âœ‰ï¸</span>
        <p style="font-weight: 600; margin-top: 10px;">The 26 March Letter</p>
    </div>
</div>

<div class="slide">
    <h2 style="font-family:'Playfair Display'; margin-bottom: 10px;">I Love Your... ğŸ¤”</h2>
    <div class="bubble-container" id="bubbleGame"></div>
</div>

<div class="slide" id="questionSlide">
    <div id="q-content">
        <h1 style="font-family:'Playfair Display'; font-size: 2.5rem;">Will you be my<br>Valentine?</h1>
        <div style="margin-top: 30px; display: flex; gap: 15px; justify-content:center;">
            <button class="btn" onclick="finalSequence()">YES! â¤ï¸</button>
            <button class="btn" id="no" style="background:none; border:1px solid white; color:white;" onclick="dodge()">No</button>
        </div>
    </div>
</div>

<div id="letterBody" style="background: #fffdf5; color: #2d2d2d; padding: 30px; text-align: left; font-family: 'Playfair Display'; border-radius: 5px; position: fixed; inset: 25px; z-index: 5000; display: none; overflow-y: auto;" onclick="this.style.display='none'">
    <h3 style="margin-bottom: 15px; border-bottom: 1px solid #ddd; color: #8a0038;">The 26 March Note ğŸ’Œ</h3>
    <p>Hi, I'm leaving Kota today and will be back on March 30th. Unfortunately, that means I'll miss the rest of our board classes. I'm really sorry I didn't get a chance to talk to you earlier - I was too shy, but I wanted to. Now that everything is coming to an end, I wanted to reach out and say that this month has been really special for me, especially our chemistry classes. I'll always remember the gol gappe wala Rampal and your friend's hostel on the way to my house. Thanks for giving me so many amazing memories! Bye for now!<br><br>
    <span style="font-style: italic; color: #666;">(You can ignore this, but my Instagram handle is @SPIDEY_K, if you ever want to chat)</span></p>
</div>

<div id="final-screen">
    <h1 style="font-size: 3.5rem; margin-bottom: 20px;">I LOVE YOU</h1>
    <p style="padding: 20px; background: rgba(255,255,255,0.1); border-radius: 20px;">manuuuuuu ğŸ˜‹ğŸ¤©ğŸ˜ğŸ©·ğŸ©·ğŸ¤ğŸ»ğŸ©·ğŸ¤©ğŸ˜‹ğŸ¥³ğŸ™ˆğŸ™ˆğŸ˜®â€ğŸ’¨ğŸ«‚ğŸ¥ºğŸ¤ğŸ˜˜ğŸ‘½ğŸ¤ğŸ¤ğŸ¤ğŸ«‚ğŸ¥ºğŸ˜˜ğŸ‘½ğŸ¥°ğŸ¥°ğŸ©·ğŸ™ˆğŸ˜ğŸ¥°ğŸ©·ğŸ¤ğŸ»ğŸ¤ğŸ»ğŸ©·ğŸ¥°ğŸ‘½ğŸ˜˜ğŸ˜˜ğŸ˜˜ğŸ¥ºğŸ¥ºğŸ«‚ğŸ¥ºğŸ¤©ğŸ˜ğŸ¤©ğŸ¥³ğŸ¥³ğŸ˜ğŸ¥°ğŸ¤ğŸ»ğŸ¤ğŸ»ğŸ¥°ğŸ˜ğŸ˜˜ğŸ‘½ğŸ˜˜ğŸ˜˜ğŸ‘½ğŸ¤©</p>
</div>

<div id="navbar" style="position:fixed; bottom:40px; display:none; gap:50px; z-index:500;"><button class="nav-btn" onclick="move(-1)">Back</button><button class="nav-btn" onclick="move(1)">Next â†’</button></div>
<div class="overlay" id="ov" onclick="this.style.display='none'"><div class="popup" onclick="event.stopPropagation()"><h3 id="p-tit" style="color:#8a0038; margin-bottom:10px;"></h3><p id="p-txt"></p></div></div>

<script>
    let idx = 0;
    const slides = document.querySelectorAll('.slide');
    const song = document.getElementById('mySong');
    const fill = document.getElementById('fill');
    const heart = document.getElementById('heartUI');

    function startJourney() { song.play().catch(()=>{}); move(1); }
    
    function move(dir) {
        slides[idx].classList.remove('active');
        idx += dir;
        slides[idx].classList.add('active');
        document.getElementById('navbar').style.display = (idx > 0 && idx < 4) ? 'flex' : 'none';
        fill.style.height = (idx / 4 * 100) + '%';
        if(idx === 3) initBubbles(); // Load bubbles when slide opens
    }

    function pop(tit, txt) { document.getElementById('p-tit').innerText = tit; document.getElementById('p-txt').innerText = txt; document.getElementById('ov').style.display='flex'; }
    function openLetter() { document.getElementById('letterBody').style.display = 'block'; }
    function dodge() { const b = document.getElementById('no'); b.style.position = 'fixed'; b.style.left = Math.random()*70+15+'%'; b.style.top = Math.random()*70+15+'%'; }

    const reasons = [{t:'Eyes', e:'ğŸ‘€'}, {t:'Smile', e:'ğŸ˜Š'}, {t:'Laugh', e:'ğŸ˜‚'}, {t:'Vibe', e:'âœ¨'}, {t:'Soul', e:'ğŸ¤'}, {t:'Voice', e:'ğŸ™ï¸'}, {t:'Care', e:'ğŸ«‚'}, {t:'Hair', e:'ğŸ’…'}];
    function initBubbles() {
        const con = document.getElementById('bubbleGame');
        con.innerHTML = '';
        reasons.forEach(r => {
            const b = document.createElement('div');
            b.className = 'bubble-item'; b.innerText = r.t;
            b.style.left = Math.random()*70+10+'%'; b.style.top = Math.random()*70+10+'%';
            b.style.animation = `floatB ${3+Math.random()*2}s infinite alternate`;
            b.onclick = (e) => {
                const emo = document.createElement('div'); emo.className = 'pop-emoji'; emo.innerText = r.e;
                emo.style.left = e.clientX+'px'; emo.style.top = e.clientY+'px';
                document.body.appendChild(emo);
                b.classList.add('bubble-pop');
                setTimeout(() => { b.remove(); emo.remove(); if(!document.querySelector('.bubble-item')) pop('Yay! â¤ï¸', 'You found all the reasons!'); }, 400);
            };
            con.appendChild(b);
        });
    }

    function finalSequence() {
        document.getElementById('q-content').style.opacity = '0';
        document.getElementById('navbar').style.display = 'none';
        setTimeout(() => {
            heart.classList.add('heart-mid'); fill.style.height = '100%';
            setTimeout(() => {
                heart.classList.add('heart-explode');
                setTimeout(() => {
                    const fs = document.getElementById('final-screen'); fs.style.display = 'flex';
                    setTimeout(() => { fs.style.opacity = '1'; rain(); }, 100);
                }, 600);
            }, 1500);
        }, 300);
    }

    function updateTimer() {
        const diff = new Date('February 23, 2026') - new Date();
        const d = Math.floor(diff/(1000*60*60*24)), h = Math.floor((diff/(1000*60*60))%24), m = Math.floor((diff/1000/60)%60), s = Math.floor((diff/1000)%60);
        document.getElementById('timer').innerText = `${d}d ${h}h ${m}m ${s}s`;
    }
    setInterval(updateTimer, 1000);

    function createBGHeart() {
        const h = document.createElement('div'); h.innerHTML = 'â¤ï¸'; h.style.position='absolute';
        h.style.left = Math.random()*100+'vw'; h.style.bottom = '-20px'; h.style.opacity = Math.random()*0.2;
        h.style.transition = (Math.random()*5+5)+'s linear'; document.getElementById('bgHearts').appendChild(h);
        setTimeout(() => { h.style.bottom = '100vh'; setTimeout(()=>h.remove(), 6000); }, 100);
    }
    setInterval(createBGHeart, 800);

    function rain() {
        for(let i=0; i<85; i++) {
            setTimeout(() => {
                const h = document.createElement('div'); h.innerHTML = 'â¤ï¸'; h.style.position='fixed';
                h.style.left = Math.random()*100+'vw'; h.style.bottom = '-20px'; h.style.transition = (Math.random()*2+3)+'s linear';
                h.style.zIndex='9999'; document.body.appendChild(h);
                setTimeout(()=> h.style.bottom = '110vh', 50);
            }, i * 40);
        }
    }
</script>
</body>
</html>
